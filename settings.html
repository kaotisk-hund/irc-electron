<!DOCTYPE html>
<html>
<head>
	<title>Settings</title>
	<meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="assets/css/foundation.css">
    <link rel="stylesheet" href="assets/css/app.css">
</head>
<body>
	<div class="grid-container">
		<div class="small-12 cell">
			<div class="stats">
				<form id="settings">
					<label>Nickname<input type="text" id="nickname" placeholder="Nickname" value="guest"/></label>
					<label>Server<input type="text" id="server" placeholder="Server" value="fc42:7cfa:b830:e988:f192:717f:6576:ed12"/></label>
					<label>Channel<input type="text" id="channel" placeholder="Channel e.g. #general" value="#general"/></label>
					<button class="button" type="submit">Connect</button>
				</form>
			</div>
		</div>
	</div>
	<script>
		const electron = require('electron');
		const {ipcRenderer} = electron;

		document.querySelector('#settings').addEventListener('submit', submitForm);
	    function submitForm(e){
	      e.preventDefault();
	      const nickname = document.querySelector('#nickname').value;
	      const server = document.querySelector('#server').value;
	      const channel = document.querySelector('#channel').value;

	      const thadata = {server, nickname, channel}

	      ipcRenderer.send('irc_connect', thadata);
	    }
	</script>
</body>
</html>